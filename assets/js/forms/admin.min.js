/* ========= INFORMATION ============================
	- document:  LeadGeneration!
	- author:    Dmytro Lobov 
	- version:   1.0
	- url:       https://wordpress.org/plugins/leadgeneration/

==================================================== */

function all_atrr_name(){var l=[];jQuery("#lg-form-builder").find("input:not([type=submit]), textarea, select").each(function(){var e=" {"+jQuery(this).attr("name").replace(/\[\]/,"")+"}";l.push(e)});for(var e={},i=0;i<l.length;i++){e[l[i]]=!0}var s=Object.keys(e);jQuery(".mail-tags").text(s)}function lg_edit(e){if(jQuery("#lg-ctrl-el-visual").addClass("active"),jQuery(".lg-ctrl-visual").css("display","block"),jQuery(".lg-ctrl-text").css("display","none"),"text"==e)jQuery("#lg-ctrl-el-text").addClass("active"),jQuery(".lg-ctrl-visual").css("display","none"),jQuery(".lg-ctrl-text").css("display","block");else{var l=jQuery("#form-content").val();jQuery("#lg-form-builder").html(l),preview_form(),all_atrr_name()}}function add_content(){var e=(e=jQuery("#lg-form-builder").html().replace(/style.+?;"/g,"")).replace(/ui-sortable-handle/g,"");jQuery("#form-content").val(e)}function add_item(){var e=field_count();jQuery("#field_name").val(e),tb_show("","/?TB_inline&inlineId=lg-field-generator&width=700&height=500")}function field_type(){jQuery(".lg-attribute").css("display","block"),jQuery("#lg-recaptcha").css("display","none"),jQuery(".lg-text").css("display","none"),jQuery(".lg-textarea").css("visibility","hidden"),jQuery(".lg-number").css("display","none"),jQuery(".lg-date").css("display","none"),jQuery(".lg-selected").css("display","none"),jQuery(".lg-select").css("display","none"),jQuery(".lg-required").css("display","none"),jQuery(".lg-radio").css("display","none");var e=jQuery("#field_type").val();"text"==e||"email"==e||"url"==e||"tel"==e||"hidden"==e?(jQuery(".lg-submit").css("visibility","visible"),jQuery(".lg-text").css("display","block"),jQuery(".lg-required").css("display","block")):"number"==e?(jQuery(".lg-submit").css("visibility","visible"),jQuery(".lg-text").css("display","block"),jQuery(".lg-number").css("display","block"),jQuery(".lg-required").css("display","block")):"date"==e?(jQuery(".lg-submit").css("visibility","visible"),jQuery(".lg-text").css("display","block"),jQuery(".lg-date").css("display","block"),jQuery(".lg-required").css("display","block")):"submit"==e?(jQuery(".lg-submit").css("visibility","hidden"),jQuery(".lg-text").css("display","block"),jQuery(".lg-number").css("display","none"),jQuery(".lg-date").css("display","none")):"select"==e?(jQuery(".lg-selected").css("display","block"),jQuery(".lg-select").css("display","block")):"radio"==e?(jQuery(".lg-selected").css("display","block"),jQuery(".lg-radio").css("display","block")):"checkbox"==e?(jQuery(".lg-selected").css("display","block"),jQuery(".lg-radio").css("display","block")):"textarea"==e?(jQuery(".lg-text").css("display","block"),jQuery(".lg-textarea").css("visibility","visible"),jQuery(".lg-submit").css("visibility","visible"),jQuery(".lg-required").css("display","block")):"recaptcha"==e&&(jQuery(".lg-attribute").css("display","none"),jQuery("#lg-recaptcha").css("display","block"))}function field_count(){var e=jQuery("#lg-form-builder").find("input, textarea, select").length+1,l="element-"+e;if(jQuery("#lg-form-builder [name='"+l+"']").length)l="element-"+e+"-1";return l}function border(){"none"==jQuery("#lg_border_style").val()?jQuery(".border").css("display","none"):jQuery(".border").css("display","block")}function shadow(){"none"==jQuery("#lg_field_shadow").val()?(jQuery(".shadow").css("visibility","hidden"),jQuery("#shadow").css("display","none")):(jQuery(".shadow").css("visibility","visible"),jQuery("#shadow").css("display","block"))}function field_border(){"none"==jQuery("#lg_field_border_style").val()?jQuery(".field-border").css("display","none"):jQuery(".field-border").css("display","block")}function field_shadow(){"none"==jQuery("#lg_field_shadow").val()?(jQuery(".field-shadow").css("visibility","hidden"),jQuery("#field-shadow").css("display","none")):(jQuery(".field-shadow").css("visibility","visible"),jQuery("#field-shadow").css("display","block"))}function users_roles(){"authorized"==jQuery('input[name="param[users]"]:checked').val()?jQuery("#lg_users_roles").css("display",""):jQuery("#lg_users_roles").css("display","none")}function max_screen_enable(){jQuery("#lg_max_screen_enable").is(":checked")?jQuery("#lg_max_screen").css("display",""):jQuery("#lg_max_screen").css("display","none")}function min_screen_enable(){jQuery("#lg_min_screen_enable").is(":checked")?jQuery("#lg_min_screen").css("display",""):jQuery("#lg_min_screen").css("display","none")}function language_enable(){jQuery("#lg_language_enable").is(":checked")?jQuery("#lg_language").css("display",""):jQuery("#lg_language").css("display","none")}function adminmail(){jQuery("#lg_admin_mail").is(":checked")?jQuery("#admin_mail").css("display",""):jQuery("#admin_mail").css("display","none")}function usermail(){jQuery("#lg_user_mail").is(":checked")?jQuery("#user_mail").css("display",""):jQuery("#user_mail").css("display","none")}function savemail(){jQuery("#lg_save_mail").is(":checked")?jQuery("#save_mail").css("display",""):jQuery("#save_mail").css("display","none")}function recaptcha(){jQuery("#lg_recaptcha_enable").is(":checked")?jQuery(".recaptcha").css("display",""):jQuery(".recaptcha").css("display","none")}function sending(){jQuery(".lg-sending-1").css("display","none"),jQuery(".lg-sending-2").css("display","none"),1==jQuery('[name="param[sending_options]"]:checked').val()?jQuery(".lg-sending-1").css("display","block"):jQuery(".lg-sending-2").css("display","block")}function sendingclosetext(){jQuery("#lg_sending_close_text").is(":checked")?(jQuery("#lg_sending_close_time").css("visibility","visible"),jQuery(".close-popup").css("visibility","visible")):(jQuery("#lg_sending_close_time").css("visibility","hidden"),jQuery(".close-popup").css("visibility","hidden"))}function responsive(){jQuery("#lg_responsive").is(":checked")?jQuery("#lg_responsive_breakpoint").css("visibility","visible"):jQuery("#lg_responsive_breakpoint").css("visibility","hidden")}jQuery(document).ready(function(k){k("#lg-form-builder").sortable({stop:function(e,l){add_content()}}),k("#lg-form-builder").disableSelection(),k("#lg-form-trash").droppable({drop:function(e,l){k(l.helper).remove(),add_content()}});var e=k("#lg-form-builder").html();k("#form-content").val(e),k("body").on("click",".lg-insert-form",function(e){var l=k("#field_type").val(),i=k("#field_width").val();if(k("#field_required").is(":checked"))var s=' data-required="required"';else s="";var a=""!=(a=k("#field_label").val())?'<div class="lg-field-title">'+a+"</div>":"";if(""!=(r=k("#field_name").val()))var r=' name="'+r+'"';else r=' name="'+field_count()+'"';var t=""!=(t=k("#field_id").val())?' id="'+t+'"':"",n=""!=(n=k("#field_class").val())?' class="'+n+'"':"",d=""!=(d=k("#field_placeholder").val())?' placeholder="'+d+'"':"",c=""!=(c=k("#field_value").val())?' value="'+c+'"':"",u=""!=(u=k("#field_min").val())?' min="'+u+'"':"",y=""!=(y=k("#field_max").val())?' max="'+y+'"':"",o=""!=(o=k("#field_step").val())?' step="'+o+'"':"",p=""!=(p=k("#field_date_min").val())?' min="'+p+'"':"",_=k("#field_date_max").val();p=""!=_?' max="'+_+'"':"";if("text"==l)var f=a+'<input type="text"'+r+t+n+d+c+s+">";else if("email"==l)f=a+'<input type="email"'+r+t+n+d+c+s+">";else if("url"==l)f=a+'<input type="url"'+r+t+n+d+c+s+">";else if("tel"==l)f=a+'<input type="tel"'+r+t+n+d+c+s+">";else if("number"==l)f=a+'<input type="number"'+r+t+n+d+c+u+y+o+s+">";else if("date"==l)f=a+'<input type="date"'+r+t+n+d+c+p+_+s+">";else if("hidden"==l)f=(a=""!=a?'<div style="visibility: hidden">'+a+"</div>":"")+'<input type="hidden"'+r+t+n+d+c+">";else if("submit"==l)f='<input type="submit"'+r+t+n+c+" >";else if("textarea"==l){var b;f="<textarea"+r+t+n+d+(b=""!=(b=k("#field_rows").val())?' rows="'+b+'"':'rows="10"')+s+">"+(c=k("#field_value").val())+"</textarea>"}else if("select"==l){if(jQuery("#field_multiple").is(":checked")){var g=" multiple";if(""!=(r=k("#field_name").val()))r=' name="'+r+'[]"';else r=' name="'+field_count()+'[]"'}else g="";f="<select"+r+t+n+g+">";for(var v=k("#lg-options").val().split("\n"),j=0;j<v.length;j++){if(-1!=(m=v[j].split("|"))[0].search(/\*/)){var Q=' selected="selected"';m[0]=m[0].substr(1)}else Q="";if(1==m.length&&""!=m[0])f=f+"<option"+Q+">"+m[0]+"</option>";else if(2==m.length)f=f+'<option value="'+m[1]+'"'+Q+">"+m[0]+"</option>"}f=f+"</select>"}else if("radio"==l)for(f="",v=k("#lg-options").val().split("\n"),j=0;j<v.length;j++){if(-1!=(m=v[j].split("|"))[0].search(/\*/)){Q=" checked";m[0]=m[0].substr(1)}else Q="";if(1==m.length&&""!=m[0]){f=f+"<label> ";if(jQuery("#field_label_first").is(":checked"))f=(f=f+m[0])+'<input type="radio"'+r+t+n+Q+' value="'+m[0]+'">';else f=(f=f+'<input type="radio"'+r+t+n+Q+' value="'+m[0]+'">')+m[0];f=f+" </label>"}else if(2==m.length){f=f+"<label> ";if(jQuery("#field_label_first").is(":checked"))f=(f=f+m[0])+' <input type="radio"'+r+t+n+Q+' value="'+m[1]+'">';else f=(f=f+'<input type="radio"'+r+t+n+Q+' value="'+m[1]+'"> ')+m[0];f=f+" </label>"}}else if("checkbox"==l){f="";if(""!=(r=k("#field_name").val()))r=' name="'+r+'[]"';else r=' name="'+field_count()+'[]"';for(v=k("#lg-options").val().split("\n"),j=0;j<v.length;j++){var m;if(-1!=(m=v[j].split("|"))[0].search(/\*/)){Q=" checked";m[0]=m[0].substr(1)}else Q="";if(1==m.length&&""!=m[0]){f=f+"<label> ";if(jQuery("#field_label_first").is(":checked"))f=(f=f+m[0])+'<input type="checkbox"'+r+t+n+Q+' value="'+m[0]+'">';else f=(f=f+'<input type="checkbox"'+r+t+n+Q+' value="'+m[0]+'">')+m[0];f=f+" </label>"}else if(2==m.length){f=f+"<label> ";if(jQuery("#field_label_first").is(":checked"))f=(f=f+m[0])+' <input type="checkbox"'+r+t+n+Q+' value="'+m[1]+'">';else f=(f=f+'<input type="checkbox"'+r+t+n+Q+' value="'+m[1]+'"> ')+m[0];f=f+" </label>"}}}else if("recaptcha"==l){var h=k("#field_site_key").val();f='<div class="g-recaptcha" data-theme="'+k("#field_captcha_them").val()+'" data-size="'+k("#field_captcha_size").val()+'" data-sitekey="'+h+'"></div>'}if("submit"==l)f='<div class="lg-col-el lg-col-'+i+' lg-button">'+f+"</div>";else f='<div class="lg-col-el lg-col-'+i+'">'+f+"</div>";k("#lg-form-builder").append(f),add_content(),preview_form(),all_atrr_name(),tb_remove()}),lg_edit(),border(),shadow(),field_type(),field_border(),field_shadow(),users_roles(),max_screen_enable(),min_screen_enable(),language_enable(),all_atrr_name(),adminmail(),usermail(),savemail(),recaptcha(),sending(),sendingclosetext(),responsive()});